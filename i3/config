# i3-gaps-git config file
# py3status for bar with some custom scripts

# COLORS
set $lime       #9fbc00
set $darklime   #505e00
set $green      #00ff00
set $watergree  #00ff8b
set $yellow     #ffff00
set $lightblue  #232d34
set $purpleble  #8b8bcd
set $blue       #131d24
set $lightgray  #ddeedd
set $gray       #aaaaaa
set $darkgray   #222222
set $white      #ffffff
set $black      #000000
set $urgentred  #fb4934
set $pink       #ff00ff

# WORKSPACES 
set $ws1     "1: "
set $ws2     "2: "
set $ws3     "3: "
set $ws4     "4: "
set $ws5     "5: "
set $ws6     "6: "
set $ws7     "7: "
set $ws8     "8: "
set $ws9     "9: "

# FONT
font xft:Hack 8

# CLIENT COLOR
# classname                 border      background  text    indicator
client.focused              $darkgray   $darkgray   $white  $black
client.unfocused            $black      $black      $white  $black
client.focused_inactive     $black      $pink       $white  $pink
client.urgent               $urgentred  $urgentred  $white  $urgentred

# MOD BUTTON
set $mod Mod4
set $mod5 Mod5
floating_modifier $mod

# CHANGE FOCUS
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# MOVE FOCUSED WINDOW
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# SPLIT HORIZONTAL
bindsym $mod+b split h

# SPLIT VERTICAL
bindsym $mod+v split v

# FULLSCREEN
bindsym $mod+f fullscreen toggle

# CHANGE CONTAINER LAYOUT
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# TOGGLE AND SWITCH TILLING / FLOATING
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle

# FOCUS PARENT / CHILD
bindsym $mod+a focus parent
bindsym $mod+Shift+a focus child

# SWITCH TO WORKSPACE
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+Control+h workspace prev
bindsym $mod+Control+l workspace next
bindsym $mod+Tab workspace back_and_forth

# MOVE CONTAINER TO WORKSPACE
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9

# SWITCH TO URGENT
bindsym $mod+u [urgent=latest] focus

# TERMINAL
bindsym $mod+Return exec st -e /bin/tmux

# KILL
bindsym $mod+Shift+c kill

# RUN
bindsym $mod+p exec rofi -show run
bindsym $mod+Shift+p exec rofi -show

# RELOAD
bindsym $mod+Shift+e reload

# RESTART
bindsym $mod+Shift+r restart

# EXIT
bindsym $mod+Shift+q exec "i3-msg exit"

# KEYBIND
bindsym --release Shift+Print exec "scrot -s ${HOME}/Pictures/screenshot/scr-$(date +%Y_%m_%d)-%s.png"
bindsym --release Print exec "scrot ${HOME}/Pictures/screenshot/scr-$(date +%Y_%m_%d)-%s.png"
bindsym $mod+Shift+z exec "${HOME}/.config/wm_script/lockscr.sh"
bindsym $mod+Shift+s exec "${HOME}/.config/wm_script/chat.sh"
bindsym $mod+F10 exec "amixer sset Master 5%+"
bindsym $mod+F9 exec  "amixer sset Master 5%-"
bindsym $mod+F3 exec  "xbacklight -inc 10"
bindsym $mod+F2 exec  "xbacklight -dec 10"

# RULES
# 
assign [class="(?i)tor browser"]            $ws1
assign [class="(?i)firefox"]                $ws1

# 
assign [class="(?i)Nemo"]                   $ws4

# 
assign [class="(?i)jetbrains-idea"]         $ws5
assign [class="(?i)libreoffice"]            $ws5
assign [class="(?i)TeXstudio"]              $ws5
assign [class="(?i)zathura"]                $ws5
assign [class="(?i)eclipse"]                $ws5
assign [class="(?i)db_main"]                $ws5
assign [class="(?i)subl"]                   $ws5

# 
assign [class="(?i)player"]                 $ws6
assign [class="(?i)genymotion"]             $ws6
assign [class="(?i)Spotify"]                $ws6
assign [class="(?i)steam"]                  $ws6
assign [class="(?i)Gimp"]                   $ws6
assign [class="(?i)Vlc"]                    $ws6

# 
assign [class="(?i)telegram"]               $ws7
assign [class="(?i)signal"]                 $ws7
assign [class="(?i)slack"]                  $ws7

# 
assign [class="(?i)qbittorrent"]            $ws8
assign [class="(?i)electrum"]               $ws8
assign [class="(?i)VirtualBox Machine"]     $ws8
assign [class="(?i)VirtualBox Manager"]     $ws8
assign [class="(?i)mist"]                   $ws8

# 
assign [class="(?i)keepassxc"]              $ws9

# STARTUP
exec_always --no-startup-id "${HOME}/.config/wm_script/startup.sh"

# EXIT MODE
set $mode_power power
bindsym $mod+Control+q mode "$mode_power"
mode "$mode_power" {
    bindsym s mode "default", exec --no-startup-id ${HOME}/.config/wm_script/i3exit.sh switch
    bindsym r mode "default", exec --no-startup-id ${HOME}/.config/wm_script/i3exit.sh reboot
    bindsym p mode "default", exec --no-startup-id ${HOME}/.config/wm_script/i3exit.sh shutdown

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
# RESIZE MODE
bindsym $mod+r mode "resize"
mode "resize" {
        bindsym h resize shrink     width   4 px or 2 ppt
        bindsym j resize grow       height  4 px or 2 ppt
        bindsym k resize shrink     height  4 px or 2 ppt
        bindsym l resize grow       width   4 px or 2 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

# GAPS
#hide_edge_borders both
for_window [class="^.*"] border pixel 1
gaps inner 0
gaps outer 0
smart_gaps on
smart_borders on

###############################################################################

# BAR CONFIG
bar {
        status_command i3blocks -c ${HOME}/.config/i3/i3blocks.conf
        # status_command py3status --standalone --dbus-notify -c ${HOME}/.config/i3/i3status.conf
        font xft:Hack 8
        tray_padding 0
        position top
        height 16
        separator_symbol " "
        strip_workspace_numbers yes
        workspace_buttons yes

        colors {
        background  $black
        statusline  $purpleble
        separator   $yellow

        # classname         border      background  font
        focused_workspace   $watergree  $black      $watergree
        inactive_workspace  $black      $black      $purpleble
        urgent_workspace    $urgentred  $urgentred  $white
        }
}
